# Домашнее задание к занятию «Уязвимости и атаки на информационные системы»

<!--

### Инструкция по выполнению домашнего задания

1. Сделайте fork [репозитория c шаблоном решения](https://github.com/netology-code/sys-pattern-homework) к себе в Github и переименуйте его по названию или номеру занятия, например, https://github.com/имя-вашего-репозитория/gitlab-hw или https://github.com/имя-вашего-репозитория/8-03-hw).
2. Выполните клонирование этого репозитория к себе на ПК с помощью команды `git clone`.
3. Выполните домашнее задание и заполните у себя локально этот файл README.md:
   - впишите вверху название занятия и ваши фамилию и имя;
   - в каждом задании добавьте решение в требуемом виде: текст/код/скриншоты/ссылка;
   - для корректного добавления скриншотов воспользуйтесь инструкцией [«Как вставить скриншот в шаблон с решением»](https://github.com/netology-code/sys-pattern-homework/blob/main/screen-instruction.md);
   - при оформлении используйте возможности языка разметки md. Коротко об этом можно посмотреть в [инструкции по MarkDown](https://github.com/netology-code/sys-pattern-homework/blob/main/md-instruction.md).
4. После завершения работы над домашним заданием сделайте коммит (`git commit -m "comment"`) и отправьте его на Github (`git push origin`).
5. Для проверки домашнего задания преподавателем в личном кабинете прикрепите и отправьте ссылку на решение в виде md-файла в вашем Github.
6. Любые вопросы задавайте в чате учебной группы и/или в разделе «Вопросы по заданию» в личном кабинете.

Желаем успехов в выполнении домашнего задания.
-->
------

### Задание 1

Скачайте и установите виртуальную машину Metasploitable: https://sourceforge.net/projects/metasploitable/.

Это типовая ОС для экспериментов в области информационной безопасности, с которой следует начать при анализе уязвимостей.

Просканируйте эту виртуальную машину, используя **nmap**.

Попробуйте найти уязвимости, которым подвержена эта виртуальная машина.

Сами уязвимости можно поискать на сайте https://www.exploit-db.com/.

Для этого нужно в поиске ввести название сетевой службы, обнаруженной на атакуемой машине, и выбрать подходящие по версии уязвимости.

Ответьте на следующие вопросы:

- Какие сетевые службы в ней разрешены?
- Какие уязвимости были вами обнаружены? (список со ссылками: достаточно трёх уязвимостей)

*Приведите ответ в свободной форме.*  

Стенд:

ВМ Metasploitable, ip 192.168.77.111

ВМ Kali-Linux, ip 192.168.77.120

На стенде "подопытным" образцом будет ВМ с ОС Metasploitable.

Сканирование будем производить с ВМ Kali-Linux 

Просканируем машину утилитой **nmap** с ключом **-sV**, чтобы узнать о запущенных на ней сервисах 

Утилита подключается поочередно к каждому порту и определяет доступную информацию:

`sudo nmap -sV 192.168.77.111`

Результат сканирования:

```
┌──(root㉿kali)-[~]
└─# nmap -sV 192.168.77.111                                           
Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-01-30 01:11 EET
Nmap scan report for 192.168.77.111
Host is up (0.00048s latency).                                               
Not shown: 977 closed tcp ports (reset)                                      
PORT     STATE SERVICE      VERSION                                          
21/tcp   open  ftp          vsftpd 2.3.4                                     
22/tcp   open  ssh          OpenSSH 4.7p1 Debian 8ubuntu1 (protocol 2.0)     
23/tcp   open  telnet?                                                       
25/tcp   open  smtp?                                                         
53/tcp   open  domain       ISC BIND 9.4.2                                   
80/tcp   open  http         Apache httpd 2.2.8 ((Ubuntu) DAV/2)              
111/tcp  open  rpcbind      2 (RPC #100000)                                  
139/tcp  open  netbios-ssn  Samba smbd 3.X - 4.X (workgroup: WORKGROUP)      
445/tcp  open  netbios-ssn  Samba smbd 3.X - 4.X (workgroup: WORKGROUP)      
512/tcp  open  exec?                                                         
513/tcp  open  login?                                                        
514/tcp  open  shell?                                                        
1099/tcp open  java-rmi     GNU Classpath grmiregistry                       
1524/tcp open  bindshell    Metasploitable root shell                        
2049/tcp open  nfs          2-4 (RPC #100003)                                
2121/tcp open  ccproxy-ftp?
3306/tcp open  mysql?
5432/tcp open  postgresql   PostgreSQL DB 8.3.0 - 8.3.7
5900/tcp open  vnc          VNC (protocol 3.3)
6000/tcp open  X11          (access denied)
6667/tcp open  irc          UnrealIRCd
8009/tcp open  ajp13        Apache Jserv (Protocol v1.3)
8180/tcp open  http         Apache Tomcat/Coyote JSP engine 1.1
MAC Address: C6:53:77:C0:9C:F6 (Unknown)
Service Info: Host: irc.Metasploitable.LAN; OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 193.29 seconds
```


Утилита **nmap** поддерживает использование дополнительных, подключаемых скриптов.

На сайте https://vulners.com/ (База данных уязвимостей и поисковая система) есть скрипт NSE  - **nmap_vulners**  для **nmap**.
Скрипт NSE использует информацию об известных сервисах для предоставления данных об уязвимостях. 

[скрипт nmap_vulners](https://vulners.com/plugins#offensive)

Установка:
```
sudo cp ~/Downloads/vulners.nse /usr/share/nmap/scripts/
sudo nmap --script-updatedb
```
Запуск:
```
sudo nmap -sV --script vulners 192.168.77.111
```

Лог получается довольно таки обширным, но уже с описанием уязвимостей сканируемого хоста

[nmap -sV --script vulners 192.168.77.111 > nmap--Metasploitable.log](./nmap--Metasploitable.log)


### Задание 2

Проведите сканирование Metasploitable в режимах SYN, FIN, Xmas, UDP.

Запишите сеансы сканирования в Wireshark.

Ответьте на следующие вопросы:

- Чем отличаются эти режимы сканирования с точки зрения сетевого трафика?
- Как отвечает сервер?

*Приведите ответ в свободной форме.*
